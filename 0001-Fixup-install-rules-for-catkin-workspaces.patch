From 214906fae3725d1bb6169097ce1d42983622089b Mon Sep 17 00:00:00 2001
From: Paul Bovbel <pbovbel@locusrobotics.com>
Date: Mon, 25 Jun 2018 14:02:30 -0400
Subject: [PATCH] Fixup install rules for catkin workspaces

---
 CMakeLists.txt | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index d79ee4c..d99b76f 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -20,6 +20,14 @@ include(OptionRequires)
 include(CTest)
 include(CheckIncludeFileCXX)
 
+set(VRPN_BUILD_CLIENT_LIBRARY TRUE)
+set(VRPN_BUILD_JAVA FALSE)
+set(VRPN_BUILD_PYTHON FALSE)
+set(VRPN_BUILD_CLIENTS FALSE)
+set(VRPN_BUILD_SERVERS FALSE)
+set(VRPN_BUILD_SERVER_LIBRARY FALSE)
+set(BUILD_TESTING FALSE)
+
 if((NOT CMAKE_SOURCE_DIR STREQUAL CMAKE_CURRENT_SOURCE_DIR) OR VRPN_SUBPROJECT_BUILD)
 	# If you're using this as a subproject and want things installed, set VRPN_INSTALL TRUE.
 	set(SUBPROJECT TRUE)
@@ -1327,6 +1335,19 @@ if(VRPN_BUILD_SERVER_LIBRARY)
 	add_cppcheck(vrpnserver STYLE UNUSED_FUNCTIONS)
 endif()
 
+# Install catkin package.xml
+install(FILES package.xml DESTINATION share/vrpn)
+
+install(
+	FILES cmake/FindVRPN.cmake
+	DESTINATION share/vrpn/cmake
+	RENAME VRPNConfig.cmake)
+
+install(
+	FILES cmake/Findquatlib.cmake
+	DESTINATION share/quatlib/cmake
+	RENAME quatlibConfig.cmake)
+
 
 if(VRPN_BUILD_CLIENT_LIBRARY)
 	add_library(vrpn ${VRPN_CLIENT_SOURCES} ${VRPN_CLIENT_PUBLIC_HEADERS})
-- 
2.14.1

